{% extends 'base.html' %}
{% load static %}
{% block title %}Mes Recettes{% endblock %}
{% load custom_filters %}

{% block content %}
<!-- En-t√™te modernis√© -->
{% comment %} <div class="max-w-screen-lg mx-auto px-4 py-6 bg-blue-600 rounded-lg shadow-md"> {% endcomment %}
<div class="container mx-auto px-4 py-6 bg-blue-600 rounded-lg shadow-md">
    <h1 class="text-4xl font-bold text-white text-center">üçΩÔ∏è Mes Recettes de Cuisine</h1>
</div>

<div class="w-full">
        <img src="{% static 'img/cuisine.jpg' %}" alt="Recettes" class="w-full h-96 object-cover rounded-lg shadow-md">
</div>
<!-- Titre avec effet -->
<div class="w-full mx-auto text-center mt-6">
    <h2 class="mb-6 text-3xl md:text-4xl font-bold text-gray-900">
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-purple-500">
            Les meilleures cr√©ations gourmandes
        </span>
    </h2>
</div>

<!-- Barre de recherche -->
<div class="flex flex-col md:flex-row justify-end mb-6">
    <form method="GET" action="" class="flex flex-wrap items-center space-x-2">
        <input class="border border-gray-300 rounded-xl px-4 py-2 shadow-md w-full md:w-auto focus:ring focus:ring-blue-300" name="q" type="text" placeholder="üîç Rechercher..." value="{{ request.GET.q }}">
        <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition">
            <i class="fas fa-search"></i>
        </button>
    </form>
</div>

<!-- Table des recettes -->
<div class="container mx-auto bg-white shadow-lg rounded-lg overflow-hidden p-4">
    <div class="overflow-x-auto">
        <table class="w-full text-left">
            <thead class="bg-blue-600 text-white uppercase">
                <tr>
                    <th class="p-3 rounded-tl-lg">Titre</th>
                    <th class="p-3">Cat√©gorie</th>
                    <th class="p-3 text-center hidden md:table-cell">Descriptif</th>
                    <th class="p-3 text-center">Temps</th>
                    <th class="p-3 text-center">Note</th>
                    <th class="p-3 text-center hidden md:table-cell">Image</th>
                    <th class="p-3 rounded-tr-lg text-center">D√©tails</th>
                </tr>
            </thead>
            <tbody>
                {% for recette in recettes %}
                <tr class="border-b hover:bg-gray-100 transition">
                    <td class="p-3">
                        <a href="{% url 'recettes:detail' recette.id %}" class="text-blue-600 hover:underline">
                        {{ recette.titre }}
                        </a>
                    </td>
                    <td class="p-3">{{ recette.categorie.nom }}</td>
                    <td class="p-3 text-left hidden md:table-cell">{{ recette.description }}</td>
                    <td class="p-3 text-center">{{ recette.temps_preparation }} min</td>
                    <td class="p-3 text-center text-yellow-400 text-xl">
                      {% for _ in ""|rjust:recette.note %}
                          ‚òÖ
                      {% endfor %}
                  </td>
                    <td class="p-3 text-center hidden md:table-cell">
                        <a href="{% url 'recettes:detail' recette.id %}">
                        {% if recette.image %}
                            <img src="{{ recette.image.url }}" alt="Recette" class="w-24 h-auto rounded-lg shadow-md mx-auto">
                        {% else %}
                            <span class="text-gray-400 italic">Pas d'image</span>
                        {% endif %}
                        </a>
                    </td>
                    <td class="p-3 text-center">
                        <a href="{% url 'recettes:detail' recette.id %}" class="inline-block bg-blue-500 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
                            Voir üëÄ
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}

