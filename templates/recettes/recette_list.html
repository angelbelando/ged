{% extends 'base.html' %}
{% block title %}Mes Recettes{% endblock %}
{% load custom_filters %}

{% block content %}
<!-- En-t√™te modernis√© -->
<div class="container mx-auto px-4 py-6 bg-blue-600 rounded-lg shadow-md">
    <h1 class="text-4xl font-bold text-white text-center">üçΩÔ∏è Mes Recettes de Cuisine</h1>
</div>

<!-- Titre avec effet -->
<div class="w-full mx-auto text-center mt-6">
    <h2 class="mb-6 text-4xl font-bold text-gray-900">
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-purple-500">
            Les meilleures cr√©ations gourmandes
        </span>
    </h2>
</div>

<!-- Barre de recherche -->
<div class="flex justify-end mb-6">
    <form method="GET" action="" class="flex items-center space-x-2">
        <input class="border border-gray-300 rounded-xl px-4 py-2 shadow-md w-full md:w-auto focus:ring focus:ring-blue-300" name="q" type="text" placeholder="üîç Rechercher..." value="{{ request.GET.q }}">
        <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition">
            <i class="fas fa-search"></i>
        </button>
    </form>
</div>

<!-- Table des recettes -->
<div class="container mx-auto bg-white shadow-lg rounded-lg overflow-hidden p-4">
    <table class="w-full text-left">
        <thead class="bg-blue-600 text-white uppercase">
            <tr>
                <th class="p-3 rounded-tl-lg">Titre</th>
                <th class="p-3">Cat√©gorie</th>
                <th class="p-3 text-center">Descriptif</th>
                <th class="p-3 text-center">Temps</th>
                <th class="p-3 text-center">Note</th>
                <th class="p-3 text-center">Image</th>
                <th class="p-3 rounded-tr-lg text-center">D√©tails</th>
            </tr>
        </thead>
        <tbody>
            {% for recette in recettes %}
            <tr class="border-b hover:bg-gray-100 transition">
                <td class="p-3">{{ recette.titre }}</td>
                <td class="p-3">{{ recette.categorie.nom }}</td>
                <td class="p-3 text-center">{{ recette.description }}</td>
                <td class="p-3 text-center">{{ recette.temps_preparation }} min</td>
                <td class="p-3 text-center text-yellow-400 text-2xl">
                  {% for _ in ""|rjust:recette.note %}
                      ‚òÖ
                  {% endfor %}
              </td>
              
                <td class="p-3 text-center">
                    {% if recette.image %}
                        <img src="{{ recette.image.url }}" alt="Recette" class="w-16 rounded-lg shadow-md mx-auto">
                    {% else %}
                        <span class="text-gray-400 italic">Pas d'image</span>
                    {% endif %}
                </td>
                <td class="p-3 text-center">
                    <a href="{% url 'recettes:detail' recette.id %}" class="inline-block bg-blue-500 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
                        Voir üëÄ
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
